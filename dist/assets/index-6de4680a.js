/* empty css             *//* empty css               *//* empty css                     *//* empty css                 */import{d as R,r as c,a as m,u as S,b as U,c as b,o as B,e as C,f as s,w as r,E as N,g as t,h as H,l as k,i as q,j as f,k as P,m as T,n as $,p as j,q as L,s as z,t as A,v as g,_ as D}from"./index-88a49f2b.js";import{g as G}from"./getTime-c50a5ff4.js";const w=l=>(z("data-v-f01cbd58"),l=l(),A(),l),J={class:"container"},K=w(()=>g("h1",null,"Hello",-1)),M=w(()=>g("h2",null,"欢迎来到管理系统!",-1)),O={name:"login"},Q=R({...O,setup(l){let a=c({username:"admin",password:"atguigu123"}),d=m(!1);const _=m();let v=S(),x=U();const h=b(),E=async()=>{try{d.value=!0,await _.value.validate(),await v.user_login(a);const n=h.query.redirect;await x.push({path:n||"/"}),f({type:"success",message:"登录成功!",title:`HI,${G()}好`})}catch(n){f({type:"error",message:n.message||"登录失败!"})}d.value=!1},y=c({username:[{trigger:"change",validator:(n,e,o)=>{e===""?o(new Error("请输入账户信息!")):e.length<5?o(new Error("账户名称长度不得小于5位!")):o()}}],password:[{trigger:"change",validator:(n,e,o)=>{e===""?o(new Error("请输入密码!")):e.length<6||e.length>18?o(new Error("账户密码的长度范围必须在6-18位之间!")):o()}}]});return(n,e)=>{const o=P,p=T,u=$,V=j,I=L,F=N;return B(),C("div",J,[s(F,null,{default:r(()=>[s(o,{span:12,xs:0}),s(o,{span:12,xs:24},{default:r(()=>[s(I,{class:"loginForm",model:t(a),rules:y,ref_key:"loginFormRef",ref:_},{default:r(()=>[K,M,s(u,{prop:"username"},{default:r(()=>[s(p,{modelValue:t(a).username,"onUpdate:modelValue":e[0]||(e[0]=i=>t(a).username=i),"prefix-icon":t(H),clearable:""},null,8,["modelValue","prefix-icon"])]),_:1}),s(u,{prop:"password"},{default:r(()=>[s(p,{modelValue:t(a).password,"onUpdate:modelValue":e[1]||(e[1]=i=>t(a).password=i),type:"password","prefix-icon":t(k),"show-password":"",clearable:""},null,8,["modelValue","prefix-icon"])]),_:1}),s(u,null,{default:r(()=>[s(V,{loading:t(d),type:"primary",class:"login_btn",onClick:e[2]||(e[2]=i=>E())},{default:r(()=>[q(" 登录 ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})])}}});const re=D(Q,[["__scopeId","data-v-f01cbd58"]]);export{re as default};
