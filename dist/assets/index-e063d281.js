/* empty css             *//* empty css                *//* empty css                  *//* empty css                   *//* empty css                        *//* empty css               *//* empty css                      *//* empty css                 *//* empty css                  *//* empty css                   */import{b as O,c as R,d as J,e as K,f as Q}from"./index-7c841ee9.js";import{d as W,a as d,P as X,ae as Y,o as u,z as k,w as t,f as e,g as p,v as D,M as x,i as o,x as _,e as S,F as w,y as C,af as I,ag as Z,p as ee,ah as te,ai as ae,aj as le,k as se,E as ne,au as oe,ax as ie,ay as re,ak as ue,aa as pe,s as ce,t as de,_ as _e}from"./index-88a49f2b.js";const me=m=>(ce("data-v-b498e9c7"),m=m(),de(),m),fe=["src"],ge=me(()=>D("span",null,"商品详情",-1)),ye=["src"],ke={name:"sku"},xe=W({...ke,setup(m){const h=d(1),v=d(5),E=d(0),b=d(!1);let z=d([]),i=d({category3Id:0,price:0,skuDefaultImg:"",skuDesc:"",skuName:"",spuId:0,tmId:0,weight:""});async function L(l){const n=await R(l.id);n.code===200&&(i.value=n.data),b.value=!0}async function V(l){(await J(l.id)).code===200&&(await f(),I.success({message:"删除成功"}),l.isSale=+!l.isSale)}async function P(l){(l.isSale?await K(l.id):await Q(l.id)).code===200&&(I.success({message:l.isSale?"下架成功！":"上架成功！"}),l.isSale=+!l.isSale)}function q(){I({type:"warning",message:"敬请期待！"})}const H=async()=>{await f()},T=async()=>{await f()};X(()=>{f()});const f=async()=>{const l=await O(h.value,v.value);l.code===200&&(z.value=l.data.records,E.value=l.data.total)};return(l,n)=>{const r=Z,g=ee,U=te,$=ae,j=le,s=se,c=ne,B=oe,F=ie,M=re,G=ue,A=pe,y=Y("permission-btn");return u(),k(A,{style:{margin:"16px 0"}},{default:t(()=>[e($,{style:{width:"100%"},data:p(z),border:""},{default:t(()=>[e(r,{label:"序号",type:"index",align:"center",width:"80px",fixed:""}),e(r,{label:"名称","show-overflow-tooltip":"",width:"180px",prop:"skuName"}),e(r,{label:"描述","show-overflow-tooltip":"",width:"300px",prop:"skuDesc"}),e(r,{align:"center",label:"图片",width:"180"},{default:t(({row:a})=>[D("img",{src:a.skuDefaultImg,alt:"图片丢失了",style:{width:"100px",height:"100px","object-fit":"contain"}},null,8,fe)]),_:1}),e(r,{label:"重量(g)",width:"150px",prop:"weight"}),e(r,{label:"价格(元)",width:"150px",prop:"price"}),e(r,{label:"操作",fixed:"right",width:"450px"},{default:t(({row:a})=>[x(e(g,{size:"small",icon:a.isSale?"Bottom":"Top",title:a.isSale?"下架商品":"上架商品",onClick:N=>P(a)},null,8,["icon","title","onClick"]),[[y,"btn.Sku.updown"]]),x(e(g,{type:"primary",size:"small",icon:"Edit",title:"修改sku",onClick:q},null,512),[[y,"btn.Sku.update"]]),x(e(g,{type:"info",size:"small",icon:"InfoFilled",title:"信息详情",onClick:N=>L(a)},null,8,["onClick"]),[[y,"btn.Sku.detail"]]),e(U,{title:`你确定要删除${a.skuName}`,width:"200px",onConfirm:N=>V(a)},{reference:t(()=>[x(e(g,{type:"danger",title:"删除sku",size:"small",icon:"Delete"},null,512),[[y,"btn.Sku.remove"]])]),_:2},1032,["title","onConfirm"])]),_:1})]),_:1},8,["data"]),e(j,{"current-page":h.value,"onUpdate:currentPage":n[0]||(n[0]=a=>h.value=a),"page-size":v.value,"onUpdate:pageSize":n[1]||(n[1]=a=>v.value=a),"page-sizes":[5,10,20,30,40],background:"",layout:"prev, pager, next, jumper, ->, sizes, total",style:{"margin-top":"16px"},total:E.value,onCurrentChange:H,onSizeChange:T},null,8,["current-page","page-size","total"]),e(G,{modelValue:b.value,"onUpdate:modelValue":n[2]||(n[2]=a=>b.value=a)},{header:t(()=>[ge]),default:t(()=>[e(c,{style:{margin:"10px 0"}},{default:t(()=>[e(s,{span:6},{default:t(()=>[o("名称")]),_:1}),e(s,{span:18},{default:t(()=>[o(_(p(i).skuName),1)]),_:1})]),_:1}),e(c,{style:{margin:"10px 0"}},{default:t(()=>[e(s,{span:6},{default:t(()=>[o("描述")]),_:1}),e(s,{span:18},{default:t(()=>[o(_(p(i).skuDesc),1)]),_:1})]),_:1}),e(c,{style:{margin:"10px 0"}},{default:t(()=>[e(s,{span:6},{default:t(()=>[o("价格")]),_:1}),e(s,{span:18},{default:t(()=>[o(_(p(i).price),1)]),_:1})]),_:1}),e(c,{style:{margin:"10px 0"}},{default:t(()=>[e(s,{span:6},{default:t(()=>[o("平台属性")]),_:1}),e(s,{span:18},{default:t(()=>[(u(!0),S(w,null,C(p(i).skuAttrValueList,a=>(u(),k(B,{key:a.id,style:{margin:"0 8px 8px 0"}},{default:t(()=>[o(_(a.valueName),1)]),_:2},1024))),128))]),_:1})]),_:1}),e(c,{style:{margin:"10px 0"}},{default:t(()=>[e(s,{span:6},{default:t(()=>[o("销售属性")]),_:1}),e(s,{span:18},{default:t(()=>[(u(!0),S(w,null,C(p(i).skuSaleAttrValueList,a=>(u(),k(B,{key:a.id,style:{margin:"0 8px 8px 0"}},{default:t(()=>[o(_(a.saleAttrValueName),1)]),_:2},1024))),128))]),_:1})]),_:1}),e(c,{style:{margin:"10px 0"}},{default:t(()=>[e(s,{span:6},{default:t(()=>[o("商品图片")]),_:1}),e(s,{span:18},{default:t(()=>[e(M,{interval:4e3,type:"card",height:"200px"},{default:t(()=>[(u(!0),S(w,null,C(p(i).skuImageList,a=>(u(),k(F,{key:a.id},{default:t(()=>[D("img",{src:a.imgUrl,alt:"图片已丢失",style:{width:"100%",height:"100%"}},null,8,ye)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}});const Le=_e(xe,[["__scopeId","data-v-b498e9c7"]]);export{Le as default};
